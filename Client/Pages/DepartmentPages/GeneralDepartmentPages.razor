@using Client.ApplicationStates
@implements IDisposable
@inject DepartmentState departmentState
@using BaseLibrary.Entities

@if (departmentState.ShowGeneralDepartment)
{
	<div class="container mt-5">
		<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-header">
						<h4 class="float-start">Departmento Geral </h4>
						<button class="btn btn-outline-success float-end" @onclick="OpenDialog"><i class="bi bi-plus-circle-dotted"></i>Adicionar Departamento</button>
					</div>
					<div class="card-body">
						<table class="table table-striped">
							<thead>
								<tr>
									<th scope="col">#</th>
									<th scope="col">First</th>
									<th scope="col">Last</th>
									<th scope="col">Handle</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<th scope="row">1</th>
									<td>Mark</td>
									<td>Otto</td>
									<td>mdo</td>
								</tr>
								<tr>
									<th scope="row">2</th>
									<td>Jacob</td>
									<td>Thornton</td>
									<td>fat</td>
								</tr>
								<tr>
									<th scope="row">3</th>
									<td colspan="2">Larry hte bird</td>
									<td>twitter</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
}
<GeneralDepartmentDialog @ref="generalDepartmentDialog" />
@code {
	DepartamentoGeral Department = new();
	GeneralDepartmentDialog generalDepartmentDialog;

	protected override void OnInitialized()
	{
		departmentState.GeneralDepartmentAction += StateHasChanged;
	}

	void OpenDialog()
	{
		generalDepartmentDialog?.OpenDialog();
	}

	public void Dispose()
	{
		departmentState.GeneralDepartmentAction -= StateHasChanged;
	}
}